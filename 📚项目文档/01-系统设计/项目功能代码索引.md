# ğŸ“‚ å±±ä¸œéé—å¯è§†åŒ–ç³»ç»Ÿ - åŠŸèƒ½ä»£ç ç´¢å¼•æ‰‹å†Œ

> **ç›®çš„**ï¼šæœ¬æ‰‹å†Œç”¨äºå¿«é€Ÿå®šä½ç³»ç»Ÿç•Œé¢åŠŸèƒ½ä¸åå°ä»£ç çš„æ˜ å°„å…³ç³»ï¼Œæ¶µç›–æ‰€æœ‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸è¾…åŠ©å¼•æ“ã€‚

---

## 1. ğŸ–¼ï¸ å¯è§†åŒ–æ¼”ç¤ºæ¨¡å¼ - ä¾§è¾¹æ  (Sidebar)

### ğŸ“ ä½ç½®ï¼š`Form1.Visual.cs` ä¸­çš„ `SidebarBtn_Click` æ–¹æ³•

| æŒ‰é’®åç§° | æ ¸å¿ƒå¯¹åº”æ–¹æ³•/é€»è¾‘ | ä»£ç æ‰€åœ¨æ–‡ä»¶ | åŠŸèƒ½æè¿° |
| :--- | :--- | :--- | :--- |
| **å…¨æ™¯** | `btnVisualFull_Click` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | ç¼©æ”¾è‡³å±±ä¸œå…¨å¢ƒè§†å›¾ |
| **æœç´¢** | `InitSearchPanel` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | å¼¹å‡ºæ‚¬æµ®æœç´¢æ¡†ï¼Œæœç´¢éé—ç‚¹ä½ |
| **åˆ†ç±»** | `ShowCategoryMenu` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | ä¸“é¢˜å›¾åˆ‡æ¢ï¼ˆå¦‚æŒ‰ç±»åˆ«æ¸²æŸ“ç‚¹ä½ï¼‰ |
| **çƒ­åŠ›å›¾** | `EnterHeatmapMode` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | å¼€å¯/å…³é—­æ ¸å¯†åº¦çƒ­åŠ›å›¾åˆ†æè§†å›¾ |
| **æ¸¸è§ˆ** | `ShowTourRoutes` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | å¯åŠ¨ [FormTourRoutes.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormTourRoutes.cs) çª—å£ |
| **WEB** | `OpenWebVisualMode` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | æ‰“å¼€åŸºäº WebView2 çš„ç½‘é¡µå¯è§†åŒ–ç³»ç»Ÿ |
| **è¿”å›** | `BtnBackToPro_Click` | [Form1.Visual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Visual.cs) | é€€å‡ºæ¼”ç¤ºæ¨¡å¼ï¼Œè¿”å› GIS ä¸“ä¸šæ¨¡å¼ |

---

## 2. ğŸ›¡ï¸ GIS ä¸“ä¸šæ¨¡å¼ - æ ¸å¿ƒèœå•

### ğŸ“ ä½ç½®ï¼šå„ `Form1.xxx.cs` åˆ†éƒ¨ç±»

| èœå•æ¨¡å— | å¯¹åº”çš„ä»£ç æ–‡ä»¶ | ä¸»è¦åŠŸèƒ½ç‚¹ |
| :--- | :--- | :--- |
| **æ•°æ®åŠ è½½** | [Form1.Tools.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Tools.cs) | åŠ è½½MXD/SHPï¼Œæ·»åŠ XYæ•°æ®ï¼Œéé—æ•°æ®åˆå§‹åŒ– |
| **ç©ºé—´åˆ†æ** | [Form1.Tools.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Tools.cs) | ç¼“å†²åŒºåˆ†æã€å ç½®åˆ†æã€è·¯ç½‘æ„å»º |
| **æŸ¥è¯¢ç»Ÿè®¡** | [Form1.Editor.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Editor.cs) | å±æ€§æŸ¥è¯¢ã€ç©ºé—´æŸ¥è¯¢ |
| **åœ°å›¾åˆ¶å›¾** | [Form1.Editor.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Editor.cs) | å”¯ä¸€å€¼æ¸²æŸ“ã€åŠ¨æ€æ ‡æ³¨ã€å¯¼å‡ºåœ°å›¾å½±åƒ |
| **æ•°æ®ç¼–è¾‘** | [Form1.Editor.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Editor.cs) | å¼€å¯ç¼–è¾‘äº‹åŠ¡ã€åˆ›å»ºæ–°ç‚¹/çº¿/é¢è¦ç´  |

---

## 3. ğŸªŸ ç‹¬ç«‹åŠŸèƒ½çª—å£ (Sub-Forms)

### ğŸ“ ä½ç½®ï¼šå„çª—å£ç±»æ–‡ä»¶

| çª—å£æ–‡ä»¶å | åŠŸèƒ½ä½œç”¨ | å…³é”®ä¸šåŠ¡é€»è¾‘ |
| :--- | :--- | :--- |
| [FormChart.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormChart.cs) | **æ•°æ®çœ‹æ¿**ï¼šå±•ç¤ºåœ°å¸‚ç»Ÿè®¡æŸ±çŠ¶å›¾ä¸ç±»åˆ«é¥¼å›¾ | å›¾è¡¨-åœ°å›¾åŒå‘è”åŠ¨ã€å¤šç»´åº¦æŠ¥è¡¨å¯¼å‡º |
| [FormTourRoutes.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormTourRoutes.cs) | **æ¸¸è§ˆè·¯çº¿ç®¡ç†**ï¼šæ™ºèƒ½æ¨èéé—è·¯çº¿å¹¶æ”¯æŒåŠ¨ç”»æ¼”ç¤º | è·¯ç½‘è¯­ä¹‰è¯†åˆ«ã€åŸå¸‚åºåˆ—è§£æã€å¼‚æ­¥è§„åˆ’å¼•æ“ |
| [FormWebVisual.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormWebVisual.cs) | **Web å¯è§†åŒ–å¤–å£³**ï¼šæ‰¿è½½ `VisualWeb/index.html` | WebView2 åˆå§‹åŒ–ã€C# Bridge æ³¨å†Œã€æ•°æ®å¼‚æ­¥æ³¨å…¥ |
| [FormSymbolize.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormSymbolize.cs) | **ç¬¦å·åŒ–é…ç½®**ï¼šè®¾ç½®å›¾å±‚æ¸²æŸ“æ ·å¼ | å”¯ä¸€å€¼/åˆ†çº§æ¸²æŸ“ã€æ ·å¼åº“åŠ è½½ã€å­—æ®µé€è§† |
| [FormRoute.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormRoute.cs) | **ä¸“ä¸šè·¯å¾„è§„åˆ’**ï¼šå¤šç‚¹è·¯å¾„è§„åˆ’é…ç½®ç•Œé¢ | è·¯ç½‘ç¼“å­˜æ™ºèƒ½åŠ è½½ã€ç©ºé—´æŠ•å½±/é•¿åº¦æ¢ç®— |
| [FormQueryResult.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormQueryResult.cs) | **æŸ¥è¯¢ç»“æœå±•ç¤º**ï¼šæ˜¾ç¤ºç©ºé—´æŸ¥è¯¢ç»“æœå¹¶æ”¯æŒå¯¼å‡º | åŠ¨æ€ UI æ³¨å…¥ã€è¦ç´ å¯¼å‡º Shapefile |
| [FormICHDetails.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/FormICHDetails.cs) | **éé—è¯¦æƒ…å¡ç‰‡**ï¼šå±•ç¤ºç‚¹ä½å±æ€§ä¸è”ç½‘æœç´¢ | ç°ä»£ UI ç¾åŒ–ã€è¯­ä¹‰åŒ–æ™ºèƒ½æœç´¢ã€è‡ªåŠ¨å¯¹é½ç®—æ³• |

---

## 4. âš™ï¸ æ ¸å¿ƒè¾…åŠ©å¼•æ“ (Infrastructure Helpers)

### ğŸ“ ä½ç½®ï¼šå„ `*Helper.cs` æ–‡ä»¶

è¿™äº›ç±»æ˜¯ç³»ç»Ÿçš„"åº•å±‚é€»è¾‘å¼•æ“"ï¼Œæ‰¿è½½äº† GIS æ“ä½œã€æ•°æ®å¤„ç†ä¸è·¨å±‚é€šè®¯çš„æ ¸å¿ƒåŠŸèƒ½ã€‚

| å¼•æ“æ–‡ä»¶å | åŠŸèƒ½èŒè´£ | å…³é”®æŠ€æœ¯ç‚¹ |
| :--- | :--- | :--- |
| [AnalysisHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/AnalysisHelper.cs) | **è·¯å¾„è§„åˆ’æ ¸å¿ƒå¼•æ“** | Dijkstra ç®—æ³•ã€è·¯ç½‘æ‹“æ‰‘æ„å»ºã€èŠ‚ç‚¹æ•æ‰ (Snapping)ã€ç¼“å­˜åºåˆ—åŒ– |
| [EditorHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/EditorHelper.cs) | **ç¼–è¾‘ä¼šè¯ç®¡ç†å™¨** | å·¥ä½œç©ºé—´äº‹åŠ¡æ§åˆ¶ã€å›¾å½¢äº¤äº’åé¦ˆ (Feedback)ã€æ’¤é”€/ä¿å­˜é€»è¾‘ |
| [MeasureHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/MeasureHelper.cs) | **æµ‹é‡å·¥å…·å¼•æ“** | äº¤äº’å¼æµ‹è·/æµ‹é¢ã€æ©¡çš®ç­‹åé¦ˆã€å•ä½è½¬æ¢æ˜¾ç¤º |
| [LayoutHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/LayoutHelper.cs) | **åˆ¶å›¾å¸ƒå±€ç®¡ç†å™¨** | æ•°æ®è§†å›¾ä¸å¸ƒå±€è§†å›¾å¼ºåˆ¶åŒæ­¥ã€æŒ‡åŒ—é’ˆ/æ¯”ä¾‹å°º/å›¾ä¾‹ UID å®ä¾‹åŒ– |
| [UIHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/UIHelper.cs) | **é€šç”¨ UI å·¥å…·** | åœ°å›¾å¯¼å‡º (JPEG/PNG)ã€å¯¹è±¡æ·±æ‹·è´ã€GDI+ çŸ¢é‡å›¾æ ‡ç”Ÿæˆ |
| [DataHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/DataHelper.cs) | **æ•°æ®è½¬æ¢å¼•æ“** | è¦ç´ è½¬ Shapefileã€æ•°æ®æ¸…æ´—ã€æ ¼å¼äº’è½¬ |
| [WebBridge.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/WebBridge.cs) | **C#-Web æ¡¥æ¥ä¸­æ¢** | C# ä¸ WebView2 äº’æ“ä½œã€æ•°æ®åºåˆ—åŒ–æ¨é€ã€è·¯çº¿ç®¡ç† API |
| [DBHelper.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/DBHelper.cs) | **æ•°æ®åº“åŸºçŸ³** | æ‰€æœ‰ SQL æŸ¥è¯¢ï¼ˆç‚¹èµã€è¯„è®ºã€æ•°æ®è¯»å–ï¼‰çš„ç»Ÿä¸€å…¥å£ |

---

## 5. ğŸ§  ä¸šåŠ¡é€»è¾‘åˆ†å·¥ (Role-based Logic)

- **æ•°æ®å±‚ (`Form1.Data.cs`)**: æä¾› `GetCountByCity`ã€`GetProjectsByCategory` ç­‰ç»Ÿè®¡æ¥å£ï¼Œä¾›çœ‹æ¿ä¸åœ°å›¾ä½¿ç”¨ã€‚
- **å¯¼èˆªå±‚ (`Form1.Navigation.cs`)**: å¤„ç† `axMapControl2_OnMouseDown` ç‚¹å‡»åœ°å›¾å¼¹å‡ºè¯†åˆ«å¡ç‰‡çš„é€»è¾‘ã€‚
- **å·¥å…·å±‚ (`Form1.Tools.cs`)**: è´Ÿè´£è·¯ç½‘æ„å»º `BuildRoadNetwork` å’Œ Dijkstra ç®—æ³• `SolvePath` çš„å®ç°ã€‚
- **ç¼–è¾‘å±‚ (`Form1.Editor.cs`)**: ç®¡ç†è¦ç´ ç¼–è¾‘äº‹åŠ¡ã€ç¬¦å·åŒ–é…ç½®è°ƒç”¨ã€‚
- **å¯è§†åŒ–å±‚ (`Form1.Visual.cs`)**: æ¼”ç¤ºæ¨¡å¼çš„ä¾§è¾¹æ æŒ‰é’®å“åº”ã€çƒ­åŠ›å›¾æ¸²æŸ“ã€Web æ¨¡å¼å¯åŠ¨ã€‚

---

## 6. ğŸŒ Web å¯è§†åŒ–ç³»ç»Ÿ (VisualWeb)

### ğŸ“ ä½ç½®ï¼š`VisualWeb/` æ–‡ä»¶å¤¹

| æ–‡ä»¶å | åŠŸèƒ½æè¿° |
| :--- | :--- |
| `index.html` | ä¸»ç•Œé¢æ¡†æ¶ï¼Œæ‰¿è½½ ECharts åœ°å›¾ä¸å³ä¾§é¢æ¿ |
| `js/main.js` | å‰ç«¯æ ¸å¿ƒé€»è¾‘ï¼šæ•°æ®æ‹‰å–ã€åœ°å›¾æ¸²æŸ“ã€è·¯å¾„è§„åˆ’ã€æ—¶ç©ºåŠ¨ç”» |
| `data/shandong.json` | å±±ä¸œåœ°å›¾ GeoJSON æ•°æ® |
| `data/roads.json` | è·¯ç½‘éª¨æ¶æ•°æ®ï¼ˆç”± Python é¢„å¤„ç†ç”Ÿæˆï¼‰ |
| `images/` | éé—é¡¹ç›®åˆ†ç±»å›¾ç‰‡èµ„æºåº“ |

---

> ğŸ’¡ **æŸ¥è¯¢å»ºè®®**ï¼š
>
> 1. å¦‚æœä½ æƒ³æ‰¾æŸä¸ªæŒ‰é’®å…·ä½“çš„å®ç°ï¼Œè¯·å…ˆåœ¨ [Form1.Designer.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/Form1.Designer.cs) æœç´¢è¯¥æŒ‰é’®çš„ `Name`ï¼Œæ‰¾åˆ°åçœ‹å…¶ `Click` ç»‘å®šçš„å‡½æ•°åï¼Œå†åˆ°å¯¹åº”çš„åˆ†éƒ¨ç±»ä¸­æœç´¢è¯¥å‡½æ•°ã€‚
> 2. å¦‚æœä½ æƒ³ç†è§£æŸä¸ªå¤æ‚ç®—æ³•ï¼ˆå¦‚è·¯å¾„è§„åˆ’ã€æ‹“æ‰‘æ‰“æ–­ï¼‰ï¼Œå»ºè®®ç›´æ¥æŸ¥é˜…å¯¹åº”çš„ `*Helper.cs` æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶å·²ç»è¿‡æ·±åº¦ä¸­æ–‡åŒ–æ ‡æ³¨ã€‚
> 3. å¦‚æœä½ æƒ³äº†è§£ C# ä¸ç½‘é¡µç«¯çš„æ•°æ®äº¤äº’ï¼Œè¯·é‡ç‚¹å…³æ³¨ [WebBridge.cs](file:///c:/Users/Administrator/Desktop/å›¢é˜Ÿé¡¹ç›®/-/LYFåœ°å›¾æ“ä½œ/23110908016ç‹äº®/WindowsFormsMap1/WebBridge.cs) å’Œ `VisualWeb/js/main.js` ä¸­çš„ `bridge.GetAllData()`ã€`bridge.GetRoadsData()` ç­‰è°ƒç”¨ã€‚
